<div id="stepper">

    <mat-stepper class="example-stepper" [ngSwitch]="stepperOrientation | async">
        <mat-step [stepControl]="companyDetailsForm" label="Company details">
            <form [formGroup]="companyDetailsForm" class="form">
                <h1 color="primary" headline-1>Company details</h1><br>
                <p>All fields are mandatory unless stated as 'optional'.</p>
                <mat-form-field appearance="outline">
                    <mat-label>Company name</mat-label>
                    <input matInput placeholder="Please enter your companay name" formControlName="companyname" required>
                    <mat-error *ngIf="f.companyname.errors?.required">Please enter company name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Doing business ass</mat-label>
                    <input matInput placeholder="Business description" formControlName="Doing_Business_as">
                    <mat-error *ngIf="f.Doing_Business_as.errors?.required">Please enter your business description</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Address line 1</mat-label>
                    <input matInput placeholder="Address line 1" formControlName="Address_Line_1" required>
                    <mat-error *ngIf="f.Address_Line_1.errors?.required">Please fill your address</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Address line 2</mat-label>
                    <input matInput placeholder="Address line 2" formControlName="Address_Line_2">
                    <mat-error *ngIf="f.Address_Line_2.errors?.required">Please enter your address</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>City</mat-label>
                    <input matInput placeholder="city" formControlName="City" required>
                    <mat-error *ngIf="f.City.errors?.required">Please enter your city name</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>State</mat-label>
                    <input matInput placeholder="State" formControlName="State" required>
                    <mat-error *ngIf="f.State.errors?.required">Please enter your state name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Country</mat-label>
                    <input matInput placeholder="Country" formControlName="Country" required>
                    <mat-error *ngIf="f.Country.errors?.required">Please enter your country name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Pin / ZIP Code</mat-label>
                    <input matInput placeholder="Pin/ Zipcode" formControlName="pincode" required>
                    <mat-error *ngIf="f.pincode.errors?.required">Please enter your zip/postal code</mat-error>
                </mat-form-field>
                <mat-form-field class="phone">
                    <mat-label>Direct telephone number</mat-label>
                    <input matInput formControlName="company_phone_number" ng2TelInput [ng2TelInputOptions]="{initialCountry: 'in'}" (countryChange)="onCountryChange($event)" required>
                    <mat-error *ngIf="f.phone?.errors?.required">Please enter valid telephone number</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Website - optional</mat-label>
                    <input matInput placeholder="Website" formControlName="Website" [pattern]="websitevalid" required>
                    <mat-error *ngIf="f.Website.errors?.required">Please enter website</mat-error>
                    <mat-error *ngIf="f.Website?.errors?.pattern">Please enter valid website address</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Company email address</mat-label>
                    <input matInput placeholder="name@email.com" formControlName="Company_email_address" [pattern]="mailvalid" required>
                    <mat-error *ngIf="f.Company_email_address.errors?.required">Please enter email id</mat-error>
                    <mat-error *ngIf="f.Company_email_address.errors?.pattern">Please enter valid email id</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Company LinkedIn page</mat-label>
                    <input matInput placeholder="Company LinkedIn" formControlName="Linked_IN">
                    <mat-error *ngIf="f.Linked_IN.errors?.required">Please enter linkedin address</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Company twitter page</mat-label>
                    <input matInput placeholder="Company twitter" formControlName="Twitter">
                    <mat-error *ngIf="f.Twitter.errors?.required">Please enter linkedin address</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Company facebook page</mat-label>
                    <input matInput placeholder="Company facebook" formControlName="FB_page">
                    <mat-error *ngIf="f.FB_page.errors?.required">Please enter linkedin address</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Company Instagram page</mat-label>
                    <input matInput placeholder="Company Instagram" formControlName="Instagram">
                    <mat-error *ngIf="f.Instagram.errors?.required">Please enter linkedin address</mat-error>
                </mat-form-field>

                <div>
                    <button mat-button matStepperNext (click)="companySubmit()">Next</button>
                </div>
            </form>
        </mat-step>
        <!-- form two start -->
        <mat-step [stepControl]="companyMainContactForm" label="Main contact details">
            <form [formGroup]="companyMainContactForm">
                <h1 color="primary" headline-1>Main contact details</h1><br>
                <p>All fields are mandatory unless there is no '*'.</p>
                <mat-form-field appearance="outline">
                    <mat-label>Title</mat-label>
                    <mat-select formControlName="Title">
                        <mat-option *ngFor="let title of nameTitle" [value]="title.value" required>
                            {{title.value}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="s.Title.errors?.required">Please enter company name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Firstname</mat-label>
                    <input matInput placeholder="enter your firstname" formControlName="First_Name">
                    <mat-error *ngIf="s.First_Name.errors?.required">Plese fill your firstname</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Lastname</mat-label>
                    <input matInput placeholder="enter your lastname" formControlName="Last_Name">
                    <mat-error *ngIf="s.Last_Name.errors?.required">Plese fill your lastname</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Job title</mat-label>
                    <input matInput placeholder="job title" formControlName="Job_Title" required>
                    <mat-error *ngIf="s.Job_Title.errors?.required">Please enter your job title</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>email address</mat-label>
                    <input matInput placeholder="name@email.com" formControlName="Email_Address" [pattern]="mailvalid" required>
                    <mat-error *ngIf="s.Email_Address.errors?.required">Please enter email id</mat-error>
                    <mat-error *ngIf="s.Email_Address.errors?.pattern">Please enter valid email id</mat-error>
                </mat-form-field>
                <mat-form-field class="phone">
                    <mat-label>Business owner contact number</mat-label>
                    <input matInput formControlName="Business_Owner_Contact_Number" ng2TelInput [ng2TelInputOptions]="{initialCountry: 'in'}" (countryChange)="onCountryChange($event)" required>
                    <mat-error *ngIf="s.Business_Owner_Contact_Number.errors?.required">Please enter valid telephone number</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Business owner email address</mat-label>
                    <input matInput placeholder="name@email.com" formControlName="Business_Owner_Email" [pattern]="mailvalid" required>
                    <mat-error *ngIf="s.Business_Owner_Email.errors?.required">Please enter owner email id</mat-error>
                    <mat-error *ngIf="s.Business_Owner_Email.errors?.pattern">Please enter valid email id</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>LinkedIn page</mat-label>
                    <input matInput placeholder="enter LinkedIn url" formControlName="Linked_In_Profile">
                    <mat-error *ngIf="s.Linked_In_Profile.errors?.required">Please enter linkedin address</mat-error>
                </mat-form-field>

                <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button matStepperNext>Next</button>
                </div>
            </form>
        </mat-step>
        <mat-step [stepControl]="companyOverviewForm" label="Company overview">
            <form [formGroup]="companyOverviewForm">
                <h1 color="primary" headline-1>Company overview</h1><br>
                <p>All fields are mandatory unless there is no '*'.</p>
                <mat-form-field appearance="outline">
                    <mat-label>Business founded year</mat-label>
                    <mat-select formControlName="Year_Business_Founded">
                        <mat-option *ngFor="let year of yearlist" [value]="year" required>
                            {{year}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="t.Year_Business_Founded?.errors?.required">Please enter company name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Registration #</mat-label>
                    <input matInput placeholder="Registration #" formControlName="Registration">
                    <mat-error *ngIf="t.Registration?.errors?.required">Please enter registration number</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>State of incorporation</mat-label>
                    <mat-select formControlName="State_Of_Incorporation">
                        <mat-option *ngFor="let state of states" [value]="state" required>
                            {{state}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="t.State_Of_Incorporation?.errors?.required">Please enter company name</mat-error>
                </mat-form-field>
                <div>
                    <!-- image upload -->
                    <div>
                        <mat-toolbar *ngIf="currentFile" class="progress-bar">
                            <mat-progress-bar color="accent" [value]="progress"></mat-progress-bar>
                            <span class="progress">{{ progress }}%</span>
                        </mat-toolbar>

                        <mat-form-field>
                            <div>
                                <mat-toolbar>
                                    <input matInput [value]="fileName" />

                                    <button mat-flat-button color="primary" [disabled]="!currentFile">
                            Upload
                          </button>
                                </mat-toolbar>

                                <input type="file" id="fileInput" (change)="selectFile($event)" name="fileInput" />
                            </div>
                        </mat-form-field>
                    </div>

                    <div *ngIf="message" class="message">
                        {{ message }}
                    </div>
                </div>

                <!--  -->
                <div>
                    <mat-label>Have you or any of your counsellors have completed a relevant International Agent training from British Council, ICEF, or other similar organisation?</mat-label>
                    <mat-button-toggle-group (click)="consi()" name="fontStyle" formControlName="counsellconfirm" aria-label="Font Style">
                        <mat-button-toggle value="yes">yes</mat-button-toggle>
                        <mat-button-toggle value="no">no</mat-button-toggle>
                    </mat-button-toggle-group>
                    <!-- <mat-error *ngIf="t.registration?.errors?.required">Please enter registration number</mat-error> -->
                </div>
                <mat-form-field appearance="outline" *ngIf="counselor">
                    <mat-label>Name of the counsellors</mat-label>
                    <input matInput placeholder="counsellor name" formControlName="counsellor">
                    <mat-error *ngIf="t.counsellor?.errors?.required">Please enter counsellor name</mat-error>
                </mat-form-field>

                <div>
                    <mat-label>How many years of experience do you have in the international education recruitment industry?</mat-label><br/>
                    <mat-button-toggle-group name="fontStyle" formControlName="experiance" aria-label="Font Style">
                        <mat-button-toggle value="yes">Less than 1</mat-button-toggle>
                        <mat-button-toggle value="no">1</mat-button-toggle>
                        <mat-button-toggle value="no">2</mat-button-toggle>
                        <mat-button-toggle value="no">3</mat-button-toggle>
                        <mat-button-toggle value="no">4</mat-button-toggle>
                        <mat-button-toggle value="no">5</mat-button-toggle>
                        <mat-button-toggle value="no">5+</mat-button-toggle>
                    </mat-button-toggle-group>
                    <!-- <mat-error *ngIf="t.experiance?.errors?.required">Please select experiance</mat-error> -->
                </div>

                <div>
                    <mat-label>Countries your company recruits students</mat-label>
                    <div *ngFor="let data of countries; let i=index">
                        <label>
                          <input type="checkbox" [value]="data.value" (change)="onCheckboxChange($event)"  formControlName="countrySelection"/>
                          {{data.name}}
                        </label>
                    </div>
                    <mat-error *ngIf="t.countrySelection?.errors?.required">Please enter company name</mat-error>
                </div>

                <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button matStepperNext>Next</button>
                </div>
            </form>
        </mat-step>
        <mat-step [stepControl]="bankDetailsForm" label="Bank details">
            <form [formGroup]="bankDetailsForm">
                <h1 color="primary" headline-1>Bank details</h1><br>
                <p>All fields are mandatory unless there is no '*'.</p>
                <mat-form-field appearance="outline">
                    <mat-label>Bank account name</mat-label>
                    <input matInput placeholder="enter bank account name" formControlName="bank_account_name">
                    <mat-error *ngIf="fo.bank_account_name?.errors?.required">Please enter bank account name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Bank account number</mat-label>
                    <input matInput placeholder="enter bank account number" formControlName="bank_account_number">
                    <mat-error *ngIf="fo.bank_account_number?.errors?.required">Please enter bank account number</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Bank name</mat-label>
                    <input matInput placeholder="enter bank name" formControlName="bank_name">
                    <mat-error *ngIf="fo.bank_name?.errors?.required">Please enter bank name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Bank Branch</mat-label>
                    <input matInput placeholder="enter bank branch" formControlName="bank_branch">
                    <mat-error *ngIf="fo.bank_branch?.errors?.required">Please enter bank branch</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>IFSC code</mat-label>
                    <input matInput placeholder="IFSC code" formControlName="IFSC">
                    <mat-error *ngIf="fo.IFSC?.errors?.required">Please enter IFSC code</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>IBAN code</mat-label>
                    <input matInput placeholder="IBAN code" formControlName="IBAN">
                    <mat-error *ngIf="fo.IBAN?.errors?.required">Please enter IBAN code</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Swift code</mat-label>
                    <input matInput placeholder="swift code" formControlName="SWIFT">
                    <mat-error *ngIf="fo.SWIFT?.errors?.required">Please enter Swift code</mat-error>
                </mat-form-field>
                <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button matStepperNext>Next</button>
                </div>
            </form>
        </mat-step>

        <mat-step [stepControl]="referencesForm" label="References">
            <form [formGroup]="referencesForm">
                <h1 color="primary" headline-1>References</h1><br>
                <p>All fields are mandatory unless there is no '*'.</p>
                <mat-form-field appearance="outline">
                    <mat-label>Full name</mat-label>
                    <input matInput placeholder="fullname" formControlName="fullName">
                    <mat-error *ngIf="fi.fullName?.errors?.required">Please enter fullname</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Referee designation / Job title</mat-label>
                    <input matInput placeholder="Referee designation / Job title" formControlName="refereeDesignation">
                    <mat-error *ngIf="fi.refereeDesignation?.errors?.required">Please enter Referee designation</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Name of the institution</mat-label>
                    <input matInput placeholder="Name of the institution" formControlName="institutionName">
                    <mat-error *ngIf="fi.institutionName?.errors?.required">Please enter bank name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Country</mat-label>
                    <input matInput placeholder="country" formControlName="country">
                    <mat-error *ngIf="fi.country?.errors?.required">Please enter country name</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Contact number</mat-label>
                    <input matInput placeholder="IFSC code" formControlName="contactNumber">
                    <mat-error *ngIf="fi.contactNumber?.errors?.required">Please enter IFSC code</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Email address</mat-label>
                    <input matInput placeholder="IBAN code" formControlName="emailAddress">
                    <mat-error *ngIf="fi.emailAddress?.errors?.required">Please enter email address</mat-error>
                </mat-form-field>

                <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button matStepperNext>Next</button>
                </div>
            </form>
        </mat-step>




        <mat-step>
            <ng-template matStepLabel>Submit</ng-template>
            <h1>Submit your application</h1>
            <div>
                <section class="example-section">
                    <mat-checkbox class="example-margin">Check me!</mat-checkbox>
                </section>
                <p>All information provided in this agent registration form is true and correct. I agree to the Agent Declaration</p>
            </div>
            <div>
                <button mat-button matStepperPrevious>Back</button>
            </div>
        </mat-step>
    </mat-stepper>
</div>